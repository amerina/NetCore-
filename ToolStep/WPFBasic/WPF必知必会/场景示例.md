[TOC]

## Resource

WPF中的资源可以是任何可以被复用的对象，例如Brush、Style、ControlTemplate等。资源可以定义在任何范围内，包括应用程序、页面、元素甚至可以在单个控件内部定义。

 定义资源的一种常见方式是使用x:Key属性来作为资源的唯一标识符，在需要使用资源的地方，可以使用StaticResource或DynamicResource来引用资源。

使用资源的好处包括简化代码、增加可读性和减少冗余。

### 对象级资源

#### 当前文件定义资源

```xaml
<Window.Resources>
    <SolidColorBrush x:Key="MyBrush" Color="Red" />
</Window.Resources>
```

在需要使用资源的控件中使用StaticResource引用资源：

```xaml
<Button Background="{StaticResource MyBrush}" Content="Click me" />
```

如果资源需要绑定到数据，则使用DynamicResource引用资源：

```xaml
<Button Background="{DynamicResource MyBrush}" Content="{Binding Path=ButtonContent}" />
```

#### Application的资源字典里(即App.axml文件)

WPF中可以在Application的作用域内定义资源，这样在整个应用程序中都可以使用这些资源，无需重复声明。这些资源可以是各种类型的对象，如颜色、样式、值等。

```xaml
<Application.Resources>
   <SolidColorBrush x:Key="MyBrush" Color="#FF00FF"/>
   <Style x:Key="MyButtonStyle" TargetType="{x:Type Button}">
       <Setter Property="Foreground" Value="{StaticResource MyBrush}"/>
       <Setter Property="FontSize" Value="20"/>
   </Style>
</Application.Resources>
```

在检索资源时，先查找控件自己的Resources属性，如果没有这个资源程序会沿着逻辑树向上
级控件查找，如果连最顶层容器(Window.Resources)都没有这个资源，程序就会去查找Application.Resources(也就是程序的顶级资源)，如果还没找到，那就只好抛出异常了。

#### 放在外部XAML文件中

```xaml
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <SolidColorBrush x:Key="MyBrush" Color="Red"/>
</ResourceDictionary>
```

在WPF窗口或控件中，可以使用以下代码加载这个外部XAML文件中的资源：

```xaml
<Application.Resources>
    <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="OtherResources.xaml"/>
        </ResourceDictionary.MergedDictionaries>
 
        <SolidColorBrush x:Key="AccentColorBrush" Color="#FF0078D7"/>
    </ResourceDictionary>
</Application.Resources>
```

### 二进制资源

#### Resources.resx资源

可以使用Resources.resx文件来存储应用程序中的资源。这可以是字符串、图像、音频、视频等。

##### 在XAML文件中引用资源

在XAML文件顶部参考命名空间中定义：

```xaml
xmlns:properties="clr-namespace:MyProject.Properties"
```

- 字符串：在需要使用字符串的控件中添加类似下面的代码即可（其中x:Static指向Resources类，而字符串的名称为WelcomeText）：

  ```xaml
  <TextBlock Text="{x:Static properties:Resources.WelcomeText}" />
  ```

- 图片：在需要使用图片的控件中添加类似下面的代码即可（其中x:Static指向Resources类，而图片的名称为MyImage）：

  ```xaml
  <Image Source="{x:Static properties:Resources.MyImage}" />
  ```

  

**Notes**

Resources.resx文件默认生成的访问修饰符是“internal”，需要将其改为“public”，以便在其他类中访问资源。

#### 使用Pack URI路径访问二进制资源

Pack URI路径采用类似于URL的语法格式，指定路径的格式为：

```xaml
pack://application:,,,/[assemblyName;component]/[pathToResource]
```

其中，application表示的是在当前应用程序域中的程序集(assembly)的名称；path指定的则是该程序集中资源文件的路径。

##### 示例

引用当前项目中的一个名为“image.png”的图像文件：

```
pack://application:,,,/component/image.png
```

引用当前项目中一个名为“control.xaml”的自定义控件：

```
pack://application:,,,/component/control.xaml
```

引用另一个程序集中一个名为“logo.png”的图像文件：

```
pack://application:,,,/OtherAssembly;component/logo.png
```

**Notes:**

*component表示该资源文件作为程序集的一部分被编译进程序集中*

##### 绝对路径

包含协议标识符（pack://）的路径称为绝对路径。 绝对路径指定了应用程序的根目录，这意味着在应用程序根目录中找到资源。

```xaml
<Image Source="pack://siteoforigin:,,,/Images/icon.png" />
```

##### 相对路径

不包含协议标识符的路径称为相对路径。 相对路径可以是相对于应用程序的根目录，也可以是相对于XAML文件的目录。

```xaml
<Image Source="../images/image.jpg"/>
```



## 依赖属性



## 路由事件



## 命令





## 模版





## 绘图与动画

























































































































